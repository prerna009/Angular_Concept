<h2>Books</h2>
<div *ngFor="let book of books$ | async">
  <h3>{{ book.name }} by {{ book.author }}</h3>
  <p><strong>Genres:</strong> {{ book.genres.join(', ') }}</p>
  <p>{{ book.description }}</p>
  <button (click)="editBook(book)">Edit</button>
  <button *ngIf="book.id !== undefined" (click)="delete(book.id)">Delete</button>
</div>

<div class="container">
  <form [formGroup]="bookForm" (ngSubmit)="onSubmit()">
    <div class="form-group">
      <label for="name" class="form-label">Book Name</label>
      <input type="text" id="name" class="form-control" formControlName="name" />
    </div>

    <div class="form-group">
      <label for="author" class="form-label">Author Name</label>
      <input type="text" id="author" class="form-control" formControlName="author" />
    </div>

    <div class="form-group">
      <label for="description" class="form-label">Book Description</label>
      <textarea type="text" id="description" class="form-control" formControlName="description"></textarea>
    </div>

    <div class="form-group">
      <label for="genres" class="form-label">Genres</label>
      <input type="text" id="genres" class="form-control" formControlName="genres" />
    </div>

    <button type="submit">{{ isEditMode ? 'Update' : 'Add' }} Book</button>
    <button type="button" *ngIf="isEditMode" (click)="resetForm()">Cancel</button>
  </form>
</div>